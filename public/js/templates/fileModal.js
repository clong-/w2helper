var fileModalTemplate = $.templates('fileModal',

"<div class='modal-background' id='{{:domID}}' {{if !visible}}hidden{{/if}}>" +
"  <div class='modal-content'>" +
"    {{if state == 'failed'}}" +
"      <h3>Whoops!</h3>" +
"    {{else}}" +
"      <h3>You're almost there!</h3>" +
"    {{/if}}" +
"    <div class='body'>" +
"      {{if state == 'failed'}}" +
"        <p>" +
"          Looks like your report failed validation:" +
"        </p>" +
"        <p>" +
"          {{for errors}}" +
"            <span class='invalid'>" +
"              {{:type.charAt(0).toUpperCase().concat(type.substring(1))}} {{:index + 1}}: {{:error.charAt(0).toUpperCase().concat(error.substring(1))}} {{:object}}" +
"            </span><br>" +
"          {{/for}}" +
"        </p>" +
"        <p>" +
"          Give these items a once-over, fill any red fields you find, and try again!" +
"        </p>" +
"      {{else}}" +
"        <p>" +
"          By clicking the button below, you signify that you understand and agree that the creators of this app take no responsibility for any potential problems, or repercussions thereof, which may arise from the submission or other use of files generated by this app." +
"        </p>" +
"        <p>" +
"          That being said, we think we did a pretty good job, and don't expect there will be any issues!" +
"        </p>" +
"        <p>" +
"          If you find that this app helped you out, consider tossing us a few bucks <a href=\"https://www.paypal.me/creightonlong\">via Paypal</a>." +
"          <br>" +
"          Also, please feel free to <a href=\"mailto:w2helperapp@gmail.com\">drop us a line</a> with any feedback or issues you may have." +
"        </p>" +
"        <p>" +
"          Anyway, thanks for using our app! <br> Go ahead and click the button below to get your file!" +
"        </p>" +
"      {{/if}}" +
"    </div>" +
"    {{if state == 'ready'}}" +
"      <button class='btn btn-default file-button'>Click to Download!</button>" +
"    {{else state == 'working'}}" +
"      <button class='btn btn-default' disabled>Generating file...</button>" +
"    {{else state == 'failed'}}" +
"      <button class='btn btn-default' disabled>Validation failed.</button>" +
"    {{else}}" +
"      <button class='btn btn-default file-button'>Generate my file!</button>" +
"    {{/if}}" +
"  </div>" +
"</div>  "

);

module.exports = fileModalTemplate;
